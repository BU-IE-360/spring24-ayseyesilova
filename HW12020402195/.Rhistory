y = usd))         +
labs(y = "Housing Sales")
ggplot(df, aes( x = Date,
y = USD))         +
labs(y = "Housing Sales")
ggplot(df, aes( x = Date,
y = konut_satis))         +
labs(y = "Housing Sales")
ggplot(df, aes( x = Date,
y = USD))         +
geom_line(color = "firebrick3",
size  = 0.75)         +
labs(y = "Total Visitors")      +
theme(axis.title.x = element_blank())
ggplot(df, aes( x = Date,
y = USD))         +
geom_line(color = "firebrick3",
size  = 0.75)         +
labs(y = "USD exchange rate")      +
theme(axis.title.x = element_blank())
ggplot(df, aes( x = Date,
y = USD))         +
geom_line(color = "firebrick3",
size  = 0.75)         +
labs(y = "USD exchange rate")      +
theme(axis.title.x = element_blank())
ggplot(df, aes( x = Date,
y = price_index))         +
geom_line(color = "firebrick3",
size  = 0.75)         +
labs(y = "Total Visitors")      +
theme(axis.title.x = element_blank())
ggplot(df, aes( x = Date,
y = USD))         +
geom_line(color = "firebrick3",
size  = 0.75)         +
labs(y = "USD exchange rate")      +
theme(axis.title.x = element_blank())
ggplot(df, aes( x = Date,
y = price_index))         +
geom_line(color = "firebrick3",
size  = 0.75)         +
labs(y = "Residential Property Price Index")      +
theme(axis.title.x = element_blank())
ggplot(df, aes( x = Date,
y = USD))         +
geom_line(color = "firebrick3",
size  = 0.75)         +
labs(y = "USD exchange rate")      +
theme(axis.title.x = element_blank())
ggplot(df, aes( x = Date,
y = price_index))         +
geom_line(color = "firebrick3",
size  = 0.75)         +
labs(y = "Residential Property Price Index")      +
theme(axis.title.x = element_blank())
ggplot(df, aes( x = Date,
y = konut_satis))         +
geom_line(color = "firebrick3",
size  = 0.75)         +
labs(y = "Housing Sales")      +
theme(axis.title.x = element_blank())
df_correl <- cor(df.complete.cases(df),)
df_correl <- cor(df[complete.cases(df),])
df2 <- df %>% select(USD, price_index, konut_satis)
df_correl <- cor(df2[complete.cases(df2),])
ggcorrplot( df2_correl,
outline.color   = "white",
hc.order        = TRUE,
type            = "lower",
lab             = TRUE,
ggtheme         = ggplot2::theme_gray,
lab_size        = 2.25,
colors          = c("#6D9EC1", "white", "#E46726"))
df2 <- df %>% select(USD, price_index, konut_satis)
df_correl <- cor(df2[complete.cases(df2),])
ggcorrplot( df_correl,
outline.color   = "white",
hc.order        = TRUE,
type            = "lower",
lab             = TRUE,
ggtheme         = ggplot2::theme_gray,
lab_size        = 2.25,
colors          = c("#6D9EC1", "white", "#E46726"))
df3 <- df %>%
select(Date, satilik_ev, konut_kredisi) %>%
gather(key = "key", value = "value", -Date)
View(df3)
df3 <- df %>%
select(Date, satilik_ev, konut_kredisi) %>%
gather(key = "key", value = "value", -Date)
ggplot(df3, aes(x = Date, y = value,
group = key, color = key))              +
geom_line(size=0.75)                                +
scale_x_date(date_breaks = "2 years",
date_labels = "%Y")                    +
theme(  legend.position = "none",
axis.title.x    = element_blank(),
axis.title.y    = element_blank())          +
geom_dl(aes(label = key),
method = list(  dl.trans(x = x + .2),
"smart.grid"))
df3 <- df %>%
select(Date, satilik_ev, konut_kredisi) %>%
gather(key = "key", value = "value", -Date)
ggplot(df3, aes(x = Date, y = value,
group = key, color = key))              +
geom_line(size=0.75)                                +
scale_x_date(date_breaks = "2 years",
date_labels = "%Y")                    +
theme(  legend.position = "none",
axis.title.x    = element_blank(),
axis.title.y    = element_blank())          +
geom_dl(aes(label = key),
method = list(  dl.trans(x = x + .2),
"smart.grid"))
df3_correl <- cor(df3[complete.cases(df3),])
df3 <- df %>%
select(Date, satilik_ev, konut_kredisi) %>%
gather(key = "key", value = "value", -Date)
ggplot(df3, aes(x = Date, y = value,
group = key, color = key))              +
geom_line(size=0.75)                                +
scale_x_date(date_breaks = "2 years",
date_labels = "%Y")                    +
theme(  legend.position = "none",
axis.title.x    = element_blank(),
axis.title.y    = element_blank())          +
geom_dl(aes(label = key),
method = list(  dl.trans(x = x + .2),
"smart.grid"))
df4<-df %>%
select(satilik_ev, konut_kredisi)
df4_correl <- cor(df4[complete.cases(df4),])
ggcorrplot( df4_correl,
outline.color   = "white",
hc.order        = TRUE,
type            = "lower",
lab             = TRUE,
ggtheme         = ggplot2::theme_gray,
lab_size        = 2.25,
colors          = c("#6D9EC1", "white", "#E46726"))
df3 <- df %>%
select(Date, satilik_ev, konut_kredisi) %>%
gather(key = "key", value = "value", -Date)
ggplot(df3, aes(x = Date, y = value,
group = key, color = key))              +
geom_line(size=0.75)                                +
scale_x_date(date_breaks = "2 years",
date_labels = "%Y")                    +
theme(  legend.position = "none",
axis.title.x    = element_blank(),
axis.title.y    = element_blank())          +
geom_dl(aes(label = key),
method = list(  dl.trans(x = x + .2),
"smart.grid"))
df4<-df %>%
select(satilik_ev, konut_kredisi)
df4_correl <- cor(df4[complete.cases(df4),])
df4_correl
df3 <- df %>%
select(Date, satilik_ev, konut_kredisi) %>%
gather(key = "key", value = "value", -Date)
ggplot(df3, aes(x = Date, y = value,
group = key, color = key))              +
geom_line(size=0.75)                                +
scale_x_date(date_breaks = "2 years",
date_labels = "%Y")                    +
theme(  legend.position = "none",
axis.title.x    = element_blank(),
axis.title.y    = element_blank())          +
geom_dl(aes(label = key),
method = list(  dl.trans(x = x + .2),
"smart.grid"))
df4 <- df %>%
select( satilik_ev, konut_kredisi, USD, price_index, konut_satis)
df4_correl<- (df4[complete.cases(df4),])
ggcorrplot( df4_correl,
outline.color   = "white",
hc.order        = TRUE,
type            = "lower",
lab             = TRUE,
ggtheme         = ggplot2::theme_gray,
lab_size        = 2.25,
colors          = c("#6D9EC1", "white", "#E46726"))
df3 <- df %>%
select(Date, satilik_ev, konut_kredisi) %>%
gather(key = "key", value = "value", -Date)
ggplot(df3, aes(x = Date, y = value,
group = key, color = key))              +
geom_line(size=0.75)                                +
scale_x_date(date_breaks = "2 years",
date_labels = "%Y")                    +
theme(  legend.position = "none",
axis.title.x    = element_blank(),
axis.title.y    = element_blank())          +
geom_dl(aes(label = key),
method = list(  dl.trans(x = x + .2),
"smart.grid"))
df4 <- df %>%
select( satilik_ev, konut_kredisi, USD, price_index, konut_satis)
df4_correl<- (df4[complete.cases(df4),])
df4_correl
df3 <- df %>%
select(Date, satilik_ev, konut_kredisi) %>%
gather(key = "key", value = "value", -Date)
ggplot(df3, aes(x = Date, y = value,
group = key, color = key))              +
geom_line(size=0.75)                                +
scale_x_date(date_breaks = "2 years",
date_labels = "%Y")                    +
theme(  legend.position = "none",
axis.title.x    = element_blank(),
axis.title.y    = element_blank())          +
geom_dl(aes(label = key),
method = list(  dl.trans(x = x + .2),
"smart.grid"))
df4 <- df %>%
select( satilik_ev, konut_kredisi, USD, price_index, konut_satis)
df4_correl<- (df4[complete.cases(df4),])
df4_correl
df3 <- df %>%
select(Date, satilik_ev, konut_kredisi) %>%
gather(key = "key", value = "value", -Date)
ggplot(df3, aes(x = Date, y = value,
group = key, color = key))              +
geom_line(size=0.75)                                +
scale_x_date(date_breaks = "2 years",
date_labels = "%Y")                    +
theme(  legend.position = "none",
axis.title.x    = element_blank(),
axis.title.y    = element_blank())          +
geom_dl(aes(label = key),
method = list(  dl.trans(x = x + .2),
"smart.grid"))
cor(konut_kredisi,price_index
)
ggplot(df,aes(x = factor(year(Date)),
y = USD))                             +
geom_boxplot(aes(fill = factor(year(Date))))    +
labs(y = "USD exchange rate")            +
theme(legend.position   = "none",
axis.title.x      = element_blank(),
axis.title.y      = element_blank())
ggplot(df,aes(x = factor(year(Date)),
y = USD))                             +
geom_boxplot(aes(fill = factor(year(Date))))    +
labs(y = "USD exchange rate")            +
theme(legend.position   = "none",
axis.title.x      = "year",
axis.title.y      = "TL")
ggplot(df, aes(x = factor(year(Date)), y = USD)) +
geom_boxplot(aes(fill = factor(year(Date)))) +
labs(y = "USD exchange rate", x = "Year") +
theme(legend.position = "none")
ggplot(df, aes(x = factor(year(Date)), y = USD)) +
geom_boxplot(aes(fill = factor(year(Date)))) +
labs(y = "USD exchange rate", x = "Year") +
theme(legend.position = "none")
ggplot(df, aes(x = factor(year(Date)), y = price_index)) +
geom_boxplot(aes(fill = factor(year(Date)))) +
labs(y = "Residential Property Price Indices", x = "Year") +
theme(legend.position = "none")
ggplot(df, aes(x = factor(year(Date)), y = konut_satis)) +
geom_boxplot(aes(fill = factor(year(Date)))) +
labs(y = "housing sales", x = "Year") +
theme(legend.position = "none")
df6 <- df %>%
select(Date, housing_sales, konut_kredisi) %>%
gather(key = "key", value = "value", -Date)
df6 <- df %>%
select(Date, satilik_ev, konut_kredisi) %>%
gather(key = "key", value = "value", -Date)
ggplot(df6, aes(x = Date, y = value,
group = key, color = key))                  +
geom_boxplot()                                          +
labs(y = "sales")                          +
theme(plot.title   = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.text.x  = element_blank(),
axis.ticks.x = element_blank(),
legend.title = element_blank())
ggplot(df, aes(x = Date))                   +
geom_line(aes(y = satilik_ev),
color = "firebrick3",
size = 0.75)                  +
geom_smooth(aes(y = satilik_ev),
method = "auto")            +
labs(y = "Popularity")                  +
theme(axis.title.x = element_blank())
ggplot(df, aes(x = Date))                   +
geom_line(aes(y = satilik_ev),
color = "firebrick3",
size = 0.75)                  +
geom_smooth(aes(y = satilik_ev),
method = "auto")            +
labs(y = "Satilik_ev search volume")                  +
theme(axis.title.x = element_blank())
ggplot(df, aes(x = Date))                   +
geom_line(aes(y = satilik_ev),
color = "firebrick3",
size = 0.75)                  +
geom_smooth(aes(y = satilik_ev),
method = "auto")            +
labs(y = "housing sales search volume")                  +
theme(axis.title.x = element_blank())
ggplot(df, aes(x = Date))                   +
geom_line(aes(y = satilik_ev),
color = "firebrick3",
size = 0.75)                  +
geom_smooth(aes(y = satilik_ev),
method = "auto")            +
labs(y = "'home for sale' search volume")                  +
theme(axis.title.x = element_blank())
ggplot(df, aes(x = Date))                   +
geom_line(aes(y = satilik_ev),
color = "firebrick3",
size = 0.75)                  +
geom_smooth(aes(y = satilik_ev),
method = "auto")            +
labs(y = "'home for sale' search volume")                  +
theme(axis.title.x = element_blank())
ggplot(df, aes(x = Date))                   +
geom_line(aes(y = konut_kredisi),
color = "firebrick3",
size = 0.75)                  +
geom_smooth(aes(y = konut_kredisi),
method = "auto")            +
labs(y = "'housing loan' search volume")                  +
theme(axis.title.x = element_blank())
df2 <- df %>% select(USD, price_index, konut_satis)
df_correl <- cor(df2[complete.cases(df2),])
ggcorrplot( df_correl,
outline.color   = "white",
hc.order        = TRUE,
type            = "lower",
lab             = TRUE,
ggtheme         = ggplot2::theme_gray,
lab_size        = 2.25,
colors          = c("#6D9EC1", "white", "#E46726"))
df3 <- df %>%
select(Date, satilik_ev, konut_kredisi) %>%
gather(key = "key", value = "value", -Date)
ggplot(df3, aes(x = Date, y = value,
group = key, color = key))              +
geom_line(size=0.75)                                +
scale_x_date(date_breaks = "2 years",
date_labels = "%Y")                    +
theme(  legend.position = "none",
axis.title.x    = element_blank(),
axis.title.y    = element_blank())          +
geom_dl(aes(label = key),
method = list(  dl.trans(x = x + .2),
"smart.grid"))
knitr::opts_chunk$set(  message     = FALSE,
warning     = FALSE,
fig.align   = "center")
library(ggplot2)
library(ggcorrplot)
library(directlabels)
library(tidyverse)
library(data.table)
library(readxl)
library(caret)
library(zoo)
library(xts)
setwd(getwd())
usd        <-  read_excel("usd.xlsx")
usd$Date    <-  as.Date(as.yearmon(usd$Date))
#usd        <-  xts(usd[,-1], order.by = usd$Date)
price_index <- read_excel("price_index.xlsx")
price_index$Date    <-  as.Date(as.yearmon(price_index$Date))
housing_sales <- read_excel("housing_sales.xlsx")
housing_sales$Date    <-  as.Date(as.yearmon(housing_sales$Date))
df      <-  list(usd, price_index, housing_sales) %>%
reduce(full_join, by = "Date", copy= TRUE)
#data   <-  merge(usd, price_index, housing_sales)
satilik_ev  <-  fread("satilik_ev.csv")
colnames(satilik_ev)       <-  c("Date", "satilik_ev")
satilik_ev$Date            <-  as.Date(as.yearmon(satilik_ev$Date))
konut_kredisi  <-  fread("konut_kredisi.csv")
colnames(konut_kredisi)       <-  c("Date", "konut_kredisi")
konut_kredisi$Date            <-  as.Date(as.yearmon(konut_kredisi$Date))
df  <-  list(df, satilik_ev, konut_kredisi) %>%
reduce(left_join, by = "Date")
ggplot(df, aes( x = Date,
y = USD))         +
geom_line(color = "firebrick3",
size  = 0.75)         +
labs(y = "USD exchange rate")      +
theme(axis.title.x = element_blank())
ggplot(df, aes( x = Date,
y = price_index))         +
geom_line(color = "firebrick3",
size  = 0.75)         +
labs(y = "Residential Property Price Index")      +
theme(axis.title.x = element_blank())
ggplot(df, aes( x = Date,
y = konut_satis))         +
geom_line(color = "firebrick3",
size  = 0.75)         +
labs(y = "Housing Sales")      +
theme(axis.title.x = element_blank())
df2 <- df %>% select(USD, price_index, konut_satis)
df_correl <- cor(df2[complete.cases(df2),])
ggcorrplot( df_correl,
outline.color   = "white",
hc.order        = TRUE,
type            = "lower",
lab             = TRUE,
ggtheme         = ggplot2::theme_gray,
lab_size        = 2.25,
colors          = c("#6D9EC1", "white", "#E46726"))
df3 <- df %>%
select(Date, satilik_ev, konut_kredisi) %>%
gather(key = "key", value = "value", -Date)
ggplot(df3, aes(x = Date, y = value,
group = key, color = key))              +
geom_line(size=0.75)                                +
scale_x_date(date_breaks = "2 years",
date_labels = "%Y")                    +
theme(  legend.position = "none",
axis.title.x    = element_blank(),
axis.title.y    = element_blank())          +
geom_dl(aes(label = key),
method = list(  dl.trans(x = x + .2),
"smart.grid"))
ggplot(df, aes(x = factor(year(Date)), y = USD)) +
geom_boxplot(aes(fill = factor(year(Date)))) +
labs(y = "USD exchange rate", x = "Year") +
theme(legend.position = "none")
ggplot(df, aes(x = factor(year(Date)), y = price_index)) +
geom_boxplot(aes(fill = factor(year(Date)))) +
labs(y = "Residential Property Price Indices", x = "Year") +
theme(legend.position = "none")
df6 <- df %>%
select(Date, satilik_ev, konut_kredisi) %>%
gather(key = "key", value = "value", -Date)
ggplot(df6, aes(x = Date, y = value,
group = key, color = key))                  +
geom_boxplot()                                          +
labs(y = "sales")                          +
theme(plot.title   = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.text.x  = element_blank(),
axis.ticks.x = element_blank(),
legend.title = element_blank())
ggplot(df, aes(x = Date))                   +
geom_line(aes(y = satilik_ev),
color = "firebrick3",
size = 0.75)                  +
geom_smooth(aes(y = satilik_ev),
method = "auto")            +
labs(y = "'home for sale' search volume")                  +
theme(axis.title.x = element_blank())
ggplot(df, aes(x = Date))                   +
geom_line(aes(y = konut_kredisi),
color = "firebrick3",
size = 0.75)                  +
geom_smooth(aes(y = konut_kredisi),
method = "auto")            +
labs(y = "'housing loan' search volume")                  +
theme(axis.title.x = element_blank())
knitr::opts_chunk$set(  message     = FALSE,
warning     = FALSE,
fig.align   = "center")
library(ggplot2)
library(ggcorrplot)
library(directlabels)
library(tidyverse)
library(data.table)
library(readxl)
library(caret)
library(zoo)
library(xts)
setwd(getwd())
usd        <-  read_excel("usd.xlsx")
usd$Date    <-  as.Date(as.yearmon(usd$Date))
#usd        <-  xts(usd[,-1], order.by = usd$Date)
price_index <- read_excel("price_index.xlsx")
price_index$Date    <-  as.Date(as.yearmon(price_index$Date))
housing_sales <- read_excel("housing_sales.xlsx")
housing_sales$Date    <-  as.Date(as.yearmon(housing_sales$Date))
df      <-  list(usd, price_index, housing_sales) %>%
reduce(full_join, by = "Date", copy= TRUE)
#data   <-  merge(usd, price_index, housing_sales)
satilik_ev  <-  fread("satilik_ev.csv")
colnames(satilik_ev)       <-  c("Date", "satilik_ev")
satilik_ev$Date            <-  as.Date(as.yearmon(satilik_ev$Date))
konut_kredisi  <-  fread("konut_kredisi.csv")
colnames(konut_kredisi)       <-  c("Date", "konut_kredisi")
konut_kredisi$Date            <-  as.Date(as.yearmon(konut_kredisi$Date))
df  <-  list(df, satilik_ev, konut_kredisi) %>%
reduce(left_join, by = "Date")
ggplot(df, aes( x = Date,
y = USD))         +
geom_line(color = "firebrick3",
size  = 0.75)         +
labs(y = "USD exchange rate")      +
theme(axis.title.x = element_blank())
ggplot(df, aes( x = Date,
y = price_index))         +
geom_line(color = "firebrick3",
size  = 0.75)         +
labs(y = "Residential Property Price Index")      +
theme(axis.title.x = element_blank())
ggplot(df, aes( x = Date,
y = konut_satis))         +
geom_line(color = "firebrick3",
size  = 0.75)         +
labs(y = "Housing Sales")      +
theme(axis.title.x = element_blank())
